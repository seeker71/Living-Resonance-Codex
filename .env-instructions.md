# ENVIRONMENT INSTRUCTIONS - PowerShell Environment

## ⚠️ CRITICAL REMINDER ⚠️
**This is a WINDOWS POWERSHELL environment, NOT bash/Unix!**

## COMMAND EQUIVALENTS

### File Operations
| Bash | PowerShell | Notes |
|------|------------|-------|
| `ls` | `Get-ChildItem` or `dir` | Use `dir` for shorter syntax |
| `ls -la` | `Get-ChildItem -Force` | Shows hidden files |
| `cat` | `Get-Content` or `type` | Use `type` for shorter syntax |
| `grep` | `Select-String` | Pattern matching in PowerShell |
| `find` | `Get-ChildItem -Recurse` | Recursive file search |
| `cp` | `Copy-Item` | File copying |
| `mv` | `Move-Item` | File moving |
| `rm` | `Remove-Item` | File deletion |
| `mkdir` | `New-Item -ItemType Directory` | Directory creation |

### Process Management
| Bash | PowerShell | Notes |
|------|------------|-------|
| `ps aux` | `Get-Process` | Process listing |
| `kill` | `Stop-Process` | Process termination |
| `jobs` | `Get-Job` | Background jobs |
| `bg` | `Resume-Job` | Resume background job |
| `fg` | `Receive-Job` | Bring job to foreground |

### Environment & Path
| Bash | PowerShell | Notes |
|------|------------|-------|
| `echo $PATH` | `$env:PATH` | Environment variable |
| `export PATH=...` | `$env:PATH += ";"` | Add to PATH |
| `source` | `.` or `&` | Execute script |
| `which` | `Get-Command` | Find command location |

### Navigation
| Bash | PowerShell | Notes |
|------|------------|-------|
| `cd` | `Set-Location` or `cd` | Change directory |
| `pwd` | `Get-Location` or `pwd` | Current directory |
| `~` | `$env:USERPROFILE` | Home directory |

## POWERSHELL-SPECIFIC PATTERNS

### String Operations
```powershell
# String concatenation
$env:PATH += ";C:\Users\$env:USERNAME\.cargo\bin"

# String interpolation
"Processing base node $i/$total: $name"

# String matching
if ($context -like "*scientific*") { ... }
```

### Array Operations
```powershell
# Array creation
$contexts = @("scientific", "symbolic", "water")

# Array filtering
$filtered = $items | Where-Object { $_ -gt 5 }

# Array iteration
foreach ($item in $items) { ... }
```

### Error Handling
```powershell
# Try-catch
try {
    $result = Some-Command
} catch {
    Write-Error "Command failed: $_"
}

# Error action preference
Some-Command -ErrorAction Stop
```

### Pipeline Operations
```powershell
# Filter and select
Get-Process | Where-Object { $_.ProcessName -like "*rust*" } | Select-Object Name, Id

# Sort and format
Get-ChildItem | Sort-Object Length | Format-Table Name, Length
```

## RUST-SPECIFIC POWERSHELL COMMANDS

### Cargo Operations
```powershell
# Build project
cargo build

# Run project
cargo run

# Check dependencies
cargo check

# Update dependencies
cargo update

# Clean build artifacts
cargo clean
```

### Rust Toolchain
```powershell
# Check Rust version
rustc --version

# Check Cargo version
cargo --version

# Update Rust
rustup update

# Install specific toolchain
rustup install stable
```

## COMMON POWERSHELL GOTCHAS

### 1. Path Separators
- **Windows**: Use `\` or `/` (PowerShell accepts both)
- **Environment variables**: Use `;` as separator, not `:`

### 2. Command Chaining
- **Bash**: `&&` for AND, `||` for OR
- **PowerShell**: `;` for sequential, `-and` for AND, `-or` for OR

### 3. Variable Assignment
- **Bash**: `VAR=value`
- **PowerShell**: `$VAR = "value"` (quotes recommended for strings)

### 4. Conditional Statements
```powershell
# PowerShell syntax
if ($condition) {
    # code
} elseif ($other_condition) {
    # code
} else {
    # code
}

# NOT bash syntax
# if [ $condition ]; then
#     code
# fi
```

### 5. Function Definitions
```powershell
# PowerShell function
function Get-Something {
    param($param1, $param2)
    # function body
}

# NOT bash function
# function_name() {
#     # function body
# }
```

## USEFUL POWERSHELL ALIASES

PowerShell provides many Unix-like aliases for convenience:
- `ls` → `Get-ChildItem`
- `cat` → `Get-Content`
- `cp` → `Copy-Item`
- `mv` → `Move-Item`
- `rm` → `Remove-Item`
- `cd` → `Set-Location`
- `pwd` → `Get-Location`
- `echo` → `Write-Output`
- `clear` → `Clear-Host`

## ENVIRONMENT VARIABLES

### Common Windows Environment Variables
```powershell
$env:USERNAME          # Current username
$env:USERPROFILE       # User home directory
$env:COMPUTERNAME      # Computer name
$env:OS                # Operating system
$env:PATH              # Executable search path
$env:TEMP              # Temporary directory
$env:TMP               # Alternative temp directory
```

### Setting Environment Variables
```powershell
# Set for current session
$env:MY_VAR = "value"

# Add to PATH
$env:PATH += ";C:\new\path"

# Set for current session and child processes
$env:MY_VAR = "value"
```

## DEBUGGING AND LOGGING

### Write Output
```powershell
Write-Host "Regular output"
Write-Output "Pipeline output"
Write-Warning "Warning message"
Write-Error "Error message"
Write-Verbose "Verbose message"
Write-Debug "Debug message"
```

### Error Handling
```powershell
# Set error action preference
$ErrorActionPreference = "Stop"

# Check last error
$LASTEXITCODE

# Get error details
$Error[0]
```

## REMEMBER: ALWAYS USE POWERSHELL SYNTAX!

When in doubt, use PowerShell cmdlets and syntax patterns. The Unix commands won't work here!
